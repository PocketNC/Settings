; Must have no tool in spindle, and a tool in slot 1 and 2
o<test-slots> sub

; tool clamped sensor
M66 P60 L0
o100 if [ #5399 EQ 1 ]
  (abort,Tool detected in spindle. Remove tool before running this routine.)
o100 endif

; tool unclamped sensor
M66 P59 L0
o200 if [ #5399 EQ 1 ]
  (abort,Spindle is unclamped. Clamp without tool before running this routine.)
o200 endif

; clamped without tool sensor
M66 P61 L0
o300 if [ #5399 EQ 0 ]
  (abort,Spindle should be clamped without a tool in it.)
o300 endif

M61 Q13

M6 T1
M61 Q3

M6 T2
M61 Q4

M6 T3
M61 Q5

M6 T4
M61 Q6

M6 T5
M61 Q7

M6 T6
M61 Q8

M6 T7
M61 Q9

M6 T8
M61 Q10

M6 T9
M61 Q11

M6 T10
M61 Q12

M6 T11
M61 Q13

M6 T12
M61 Q1

M6 T13

o<test-slots> endsub
