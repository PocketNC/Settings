O<pick-up-tool> SUB
#<_tool1X> = 6.2093
#<_tool1Y> = 2.9180
#<_tool1Z> = -6.2277

#<_toolDist> = [ 40.75 / 25.4 ]
#<_middleOffsetX> = [ SQRT[3] * .5 * #<_toolDist> ]
#<_middleOffsetY> = [ .5 * #<_toolDist> ]

#<_ToolNumber> = #1

#<_RapidFeed> = 120
#<_RapidFeedRotary> = 600

M70                                            ( save current modal state )
G90
G94
G40

G53 G1 Z0 F#<_RapidFeed>
G53 G1 B0 F#<_RapidFeedRotary>
M170

o[#<_ToolNumber> + 7000] call

G53 G1 F#<_RapidFeed> Z0

M171
M72                                          ( restore modal state )
O<pick-up-tool> ENDSUB

; tool 1
o7001 sub
  o<local-pick-up-tool> call [#<_tool1X>] [#<_tool1Y>] [#<_tool1Z>]
o7001 endsub

; tool 2
o7002 sub
  o<local-pick-up-tool> call [#<_tool1X>] [#<_tool1Y> - #<_toolDist>] [#<_tool1Z>]
o7002 endsub

; tool 3
o7003 sub
  o<local-pick-up-tool> call [#<_tool1X>] [#<_tool1Y> - [ 2 * #<_toolDist> ]] [#<_tool1Z>]
o7003 endsub

; tool 4
o7004 sub
  o<local-pick-up-tool> call [#<_tool1X>] [#<_tool1Y> - [ 3 * #<_toolDist> ]] [#<_tool1Z>]
o7004 endsub

; tool 5
o7005 sub
  o<local-pick-up-tool> call [#<_tool1X>] [#<_tool1Y> - [ 4 * #<_toolDist> ]] [#<_tool1Z>]
o7005 endsub

; tool 6
o7006 sub
  o<local-pick-up-tool> call [#<_tool1X> - #<_middleOffsetX> ] [#<_tool1Y> - #<_middleOffsetY> - #<_toolDist>] [#<_tool1Z>]
o7006 endsub

; tool 7
o7007 sub
  o<local-pick-up-tool> call [#<_tool1X> - #<_middleOffsetX> ] [#<_tool1Y> - #<_middleOffsetY> - [ 2 * #<_toolDist> ]] [#<_tool1Z>]
o7007 endsub

; tool 8
o7008 sub
  o<local-pick-up-tool> call [#<_tool1X> - #<_middleOffsetX> ] [#<_tool1Y> - #<_middleOffsetY> - [ 3 * #<_toolDist> ]] [#<_tool1Z>]
o7008 endsub

; tool 9
o7009 sub
  o<local-pick-up-tool> call [#<_tool1X> - [ 2 * #<_middleOffsetX> ]] [#<_tool1Y>] [#<_tool1Z>]
o7009 endsub

; tool 10
o7010 sub
  o<local-pick-up-tool> call [#<_tool1X> - [ 2 * #<_middleOffsetX> ]] [#<_tool1Y> - #<_toolDist>] [#<_tool1Z>]
o7010 endsub

; tool 11
o7011 sub
  o<local-pick-up-tool> call [#<_tool1X> - [ 2 * #<_middleOffsetX> ]] [#<_tool1Y> - [ 2 * #<_toolDist> ]] [#<_tool1Z>]
o7011 endsub

; tool 12
o7012 sub
  o<local-pick-up-tool> call [#<_tool1X> - [ 2 * #<_middleOffsetX> ]] [#<_tool1Y> - [ 3 * #<_toolDist> ]] [#<_tool1Z>]
o7012 endsub

; tool 13
o7013 sub
  o<local-pick-up-tool> call [#<_tool1X> - [ 2 * #<_middleOffsetX> ]] [#<_tool1Y> - [ 4 * #<_toolDist> ]] [#<_tool1Z>]
o7013 endsub

o<local-pick-up-tool> sub
  #<_toolX> = #1
  #<_toolY> = #2
  #<_toolZ> = #3
  #<_pickupFeed> = 120
  G53 G1 F#<_pickupFeed> X#<_toolX> Y#<_toolY>
  G53 G1 F#<_pickupFeed> Z[ #<_toolZ> + 1 ]
  M160
  G4 P1
  G53 G1 F#<_pickupFeed> Z#<_toolZ>
  M161
  G4 P1
o<local-pick-up-tool> endsub
