o<solo-open-tool-changer> SUB

M64 P63       ; Request open
M66 P63 L3 Q4 ; Wait until open or 4 seconds have passed
M65 P63

o100 if [ ABS[ #5399+1 ] LT .000001  ]
  ; if timeout occurred, #5399 is -1 and drawer didn't open
  M66  E0 L0                           ; force synch
  (abort,Tool changer drawer failed to open.)
o100 endif

o<solo-open-tool-changer> ENDSUB
M2
